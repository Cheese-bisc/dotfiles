# Picture-in-Picture
windowrule = float, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = keepaspectratio, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = move 73% 72%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$ 
windowrule = size 25%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = pin, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$

# Opacity rules - browsers
windowrule = opacity 0.98 0.95 1,class:^(firefox)$
windowrule = opacity 0.98 0.95 1,class:^(zen)$
windowrule = opacity 0.97 0.85 1,class:^(Brave-browser)$

#Spotify
windowrule = opacity 0.85 0.90 1, class:^(spotify)$
windowrule = opacity 0.85 0.90 1, class:^(obsidian)$
windowrulev2 = maximize, class:^(org.gnome.Evince)$

# Opacity rules - development tools
windowrule = opacity 0.90 0.80 1,class:^(code-oss)$
windowrule = opacity 0.90 0.80 1,class:^([Cc]ode)$
windowrule = opacity 0.90 0.80 1,class:^(code-url-handler)$
windowrule = opacity 0.90 0.80 1,class:^(code-insiders-url-handler)$
# windowrule = opacity 0.90 0.85 1,class:^(dev.zed.Zed)$

# Opacity rules - terminal and file manager
windowrule = opacity 0.90 0.90 1,class:^(kitty)$
windowrule = opacity 0.97 0.90 1,class:^(org.kde.dolphin)$
windowrule = opacity 0.85 0.80 1,class:^(thunar)$

# Opacity rules - system utilities (enhanced for popup behavior)
windowrule = opacity 0.95 0.75 1,class:^(org.kde.ark)$
windowrule = opacity 0.97 0.95 1,class:^(nwg-look)$
windowrule = opacity 0.95 0.75 1,class:^(qt5ct)$
windowrule = opacity 0.95 0.75 1,class:^(qt6ct)$
windowrule = opacity 0.95 0.75 1,class:^(kvantummanager)$
windowrule = opacity 0.95 0.85 1,class:^(org.pulseaudio.pavucontrol)$

# Popup/dialog windows - highly opaque when active
windowrule = opacity 0.95 0.85 1,class:^(blueman-manager)$
windowrule = opacity 0.95 0.85 1,class:^(nm-applet)$
windowrule = opacity 0.98 0.75 1,class:^(nm-connection-editor)$
windowrule = opacity 0.98 0.75 1,class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrule = opacity 0.98 0.75 1,class:^(polkit-gnome-authentication-agent-1)$
windowrule = opacity 0.98 0.75 1,class:^(org.freedesktop.impl.portal.desktop.gtk)$
windowrule = opacity 0.98 0.75 1,class:^(org.freedesktop.impl.portal.desktop.hyprland)$

# Make all dropdown/popup menus from any app opaque
# windowrule = forcergbx, title:^(.*)$, xwayland:0

# Opacity rules - communication and productivity apps
windowrule = opacity 0.90 0.80 1,class:^(com.github.rafostar.Clapper)$ # Clapper-Gtk
windowrule = opacity 0.90 0.80 1,class:^(com.github.tchx84.Flatseal)$ # Flatseal-Gtk
windowrule = opacity 0.90 0.80 1,class:^(hu.kramo.Cartridges)$ # Cartridges-Gtk
windowrule = opacity 0.90 0.80 1,class:^(com.obsproject.Studio)$ # Obs-Qt
windowrule = opacity 0.90 0.80 1,class:^(gnome-boxes)$ # Boxes-Gtk
windowrule = opacity 0.90 0.80 1,class:^(vesktop)$ # Vesktop
windowrule = opacity 0.90 0.80 1,class:^(discord)$ # Discord-Electron
windowrule = opacity 0.90 0.80 1,class:^(WebCord)$ # WebCord-Electron
windowrule = opacity 0.90 0.80 1,class:^(ArmCord)$ # ArmCord-Electron
windowrule = opacity 0.90 0.80 1,class:^(app.drey.Warp)$ # Warp-Gtk
windowrule = opacity 0.90 0.80 1,class:^(net.davidotek.pupgui2)$ # ProtonUp-Qt
windowrule = opacity 0.98 0.80 1,class:^(yad)$ # Protontricks-Gtk
windowrule = opacity 0.90 0.80 1,class:^(Signal)$ # Signal-Gtk
windowrule = opacity 0.90 0.80 1,class:^(io.github.alainm23.planify)$ # planify-Gtk
windowrule = opacity 0.90 0.80 1,class:^(io.gitlab.theevilskeleton.Upscaler)$ # Upscaler-Gtk
windowrule = opacity 0.90 0.80 1,class:^(com.github.unrud.VideoDownloader)$ # VideoDownloader-Gtk
windowrule = opacity 0.90 0.80 1,class:^(io.gitlab.adhami3310.Impression)$ # Impression-Gtk
windowrule = opacity 0.90 0.80 1,class:^(io.missioncenter.MissionCenter)$ # MissionCenter-Gtk
windowrule = opacity 0.90 0.80 1,class:^(io.github.flattool.Warehouse)$ # Warehouse-Gtk
#
# Float rules - file manager dialogs
windowrule = float,class:^(org.kde.dolphin)$,title:^(Progress Dialog — Dolphin)$
windowrule = float,class:^(org.kde.dolphin)$,title:^(Copying — Dolphin)$

# Float rules - browser specific
windowrule = float,title:^(About Mozilla Firefox)$
windowrule = float,class:^(firefox)$,title:^(Picture-in-Picture)$
windowrule = float,class:^(firefox)$,title:^(Library)$

# Float rules - terminal applications
windowrule = float,class:^(kitty)$,title:^(top)$
windowrule = float,class:^(kitty)$,title:^(btop)$
windowrule = float,class:^(kitty)$,title:^(htop)$

# Float rules - system utilities
windowrule = float,class:^(kvantummanager)$
windowrule = float,class:^(qt5ct)$
windowrule = float,class:^(qt6ct)$
windowrule = float,class:^(nwg-look)$
windowrule = float,class:^(org.kde.ark)$
windowrule = float,class:^(org.pulseaudio.pavucontrol)$
windowrule = float,class:^(org.kde.polkit-kde-authentication-agent-1)$

# Float rules - system managers with size constraints
windowrule = float,class:^(blueman-manager)$
windowrule = size 600 600,class:^(blueman-manager)$
windowrule = size 1100 800,class:^(nwg-look)$
windowrule = center,class:^(blueman-manager)$
windowrule = float,class:^(nm-applet)$
windowrule = float,class:^(nm-connection-editor)$
windowrule = size 500 400,class:^(nm-connection-editor)$
windowrule = center,class:^(nm-connection-editor)$

# Float rules - applications
windowrule = float,class:^(Signal)$ # Signal-Gtk
windowrule = float,class:^(com.github.rafostar.Clapper)$ # Clapper-Gtk
windowrule = float,class:^(app.drey.Warp)$ # Warp-Gtk
windowrule = float,class:^(net.davidotek.pupgui2)$ # ProtonUp-Qt
windowrule = float,class:^(yad)$ # Protontricks-Gtk
windowrule = float,class:^(eog)$ # Imageviewer-Gtk
windowrule = float,class:^(io.github.alainm23.planify)$ # planify-Gtk
windowrule = float,class:^(io.gitlab.theevilskeleton.Upscaler)$ # Upscaler-Gtk
windowrule = float,class:^(com.github.unrud.VideoDownloader)$ # VideoDownloader-Gtk
windowrule = float,class:^(io.gitlab.adhami3310.Impression)$ # Impression-Gtk
windowrule = float,class:^(io.missioncenter.MissionCenter)$ # MissionCenter-Gtk

# Common modal dialogs - highly opaque when active
windowrule = float,title:^(Open)$
windowrule = opacity 0.98 0.80 1,title:^(Open)$
windowrule = float, title:^(Authentication Required)$
windowrule = opacity 0.98 0.80 1,title:^(Authentication Required)$
windowrule = float, title:^(Add Folder to Workspace)$
# windowrule = float,initialtitle:^(Open File)$
# windowrule = opacity 0.98 0.80 1,initialtitle:^(Open File)$
windowrule = float,title:^(Choose Files)$
windowrule = opacity 0.98 0.80 1,title:^(Choose Files)$
windowrule = float,title:^(Save As)$
windowrule = opacity 0.98 0.80 1,title:^(Save As)$
windowrule = float,title:^(Confirm to replace files)$
windowrule = float,title:^(File Operation Progress)$
windowrule = float,class:^([Xx]dg-desktop-portal-gtk)$
windowrule = opacity 0.98 0.80 1,class:^([Xx]dg-desktop-portal-gtk)$
windowrule = float, title:^(File Upload)(.*)$
windowrule = opacity 0.98 0.80 1,title:^(File Upload)(.*)$
windowrule = float, title:^(Choose wallpaper)(.*)$
windowrule = float, title:^(Library)(.*)$
windowrule = float,class:^(.*dialog.*)$
windowrule = opacity 0.98 0.80 1,class:^(.*dialog.*)$
windowrule = float,title:^(.*dialog.*)$
windowrule = opacity 0.98 0.80 1,title:^(.*dialog.*)$

#thunar rename sizing
windowrulev2 = float, class:^(thunar)$, title:^(.*File|Folder.*|Rename.*)$
windowrulev2 = center, class:^(thunar)$, title:^(.*File|Folder.*|Rename.*)$
windowrulev2 = size 500 300, class:^(thunar)$, title:^(.*File|Folder.*|Rename.*)$


windowrule = float,class:nmtui_popup
windowrule = center,class:nmtui_popup
windowrule = size 800 600,class:nmtui_popup
windowrule = stayfocused,class:nmtui_popup
# windowrule = noborder,class:nmtui_popup
windowrulev2 = size 600 500, class:^(org.pulseaudio.pavucontrol)$

# Layer rules
layerrule = dimaround,rofi
layerrule = ignorezero,rofi
layerrule = blur, rofi
layerrule = ignorezero,notifications
layerrule = blur,logout_dialog
layerrule = dimaround,wofi
layerrule = ignorezero,wofi
layerrule = blur, wofi
