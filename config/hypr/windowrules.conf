# ============================================
# Picture-in-Picture Rules
# ============================================
windowrule = float on, match:title ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = keep_aspect_ratio on, match:title ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = move 73% 72%, match:title ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = size 25%, match:title ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = pin on, match:title ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$

# ============================================
# Opacity Rules - Browsers
# ============================================
windowrule = opacity 0.98 0.95 1.0, match:class firefox
windowrule = opacity 0.98 0.95 1.0, match:class zen
windowrule = opacity 0.97 0.85 1.0, match:class Brave-browser

# ============================================
# Opacity Rules - Spotify & Obsidian
# ============================================
windowrule = opacity 0.85 0.90 1.0, match:class spotify
windowrule = opacity 0.85 0.90 1.0, match:class obsidian

# ============================================
# PDF Viewer Rules
# ============================================
# windowrule = tile on, match:class org.gnome.Evince

# ============================================
# Opacity Rules - Development Tools
# ============================================
windowrule = opacity 0.90 0.80 1.0, match:class code-oss
windowrule = opacity 0.90 0.80 1.0, match:class Code
windowrule = opacity 0.90 0.80 1.0, match:class code-url-handler
windowrule = opacity 0.90 0.80 1.0, match:class code-insiders-url-handler

# ============================================
# Opacity Rules - Terminal & File Manager
# ============================================
windowrule = opacity 0.80 0.80 1.0, match:class kitty
windowrule = opacity 0.97 0.90 1.0, match:class org.kde.dolphin
windowrule = opacity 0.85 0.80 1.0, match:class thunar

# ============================================
# Opacity Rules - System Utilities
# ============================================
windowrule = opacity 0.95 0.75 1.0, match:class org.kde.ark
windowrule = opacity 0.97 0.95 1.0, match:class nwg-look
windowrule = opacity 0.95 0.75 1.0, match:class qt5ct
windowrule = opacity 0.95 0.75 1.0, match:class qt6ct
windowrule = opacity 0.95 0.75 1.0, match:class kvantummanager
windowrule = opacity 0.95 0.85 1.0, match:class org.pulseaudio.pavucontrol

# ============================================
# Opacity Rules - Popup/Dialog Windows
# ============================================
windowrule = opacity 0.95 0.85 1.0, match:class blueman-manager
windowrule = opacity 0.95 0.85 1.0, match:class nm-applet
windowrule = opacity 0.98 0.75 1.0, match:class nm-connection-editor
windowrule = opacity 0.98 0.75 1.0, match:class org.kde.polkit-kde-authentication-agent-1
windowrule = opacity 0.98 0.75 1.0, match:class polkit-gnome-authentication-agent-1
windowrule = opacity 0.98 0.75 1.0, match:class org.freedesktop.impl.portal.desktop.gtk
windowrule = opacity 0.98 0.75 1.0, match:class org.freedesktop.impl.portal.desktop.hyprland

# ============================================
# Opacity Rules - Communication & Productivity
# ============================================
windowrule = opacity 0.90 0.80 1.0, match:class com.github.rafostar.Clapper
windowrule = opacity 0.90 0.80 1.0, match:class com.github.tchx84.Flatseal
windowrule = opacity 0.90 0.80 1.0, match:class hu.kramo.Cartridges
windowrule = opacity 0.90 0.80 1.0, match:class com.obsproject.Studio
windowrule = opacity 0.90 0.80 1.0, match:class gnome-boxes
windowrule = opacity 0.90 0.80 1.0, match:class vesktop
windowrule = opacity 0.90 0.80 1.0, match:class discord
windowrule = opacity 0.90 0.80 1.0, match:class WebCord
windowrule = opacity 0.90 0.80 1.0, match:class ArmCord
windowrule = opacity 0.90 0.80 1.0, match:class app.drey.Warp
windowrule = opacity 0.90 0.80 1.0, match:class net.davidotek.pupgui2
windowrule = opacity 0.98 0.80 1.0, match:class yad
windowrule = opacity 0.90 0.80 1.0, match:class Signal
windowrule = opacity 0.90 0.80 1.0, match:class io.github.alainm23.planify
windowrule = opacity 0.90 0.80 1.0, match:class io.gitlab.theevilskeleton.Upscaler
windowrule = opacity 0.90 0.80 1.0, match:class com.github.unrud.VideoDownloader
windowrule = opacity 0.90 0.80 1.0, match:class io.gitlab.adhami3310.Impression
windowrule = opacity 0.90 0.80 1.0, match:class io.missioncenter.MissionCenter
windowrule = opacity 0.90 0.80 1.0, match:class io.github.flattool.Warehouse

# ============================================
# Float Rules - File Manager Dialogs
# ============================================
windowrule = float on, match:class org.kde.dolphin, match:title ^(Progress Dialog — Dolphin)$
windowrule = float on, match:class org.kde.dolphin, match:title ^(Copying — Dolphin)$

# ============================================
# Float Rules - Browser Specific
# ============================================
windowrule = float on, match:title ^(About Mozilla Firefox)$
windowrule = float on, match:class firefox, match:title ^(Picture-in-Picture)$
windowrule = float on, match:class firefox, match:title ^(Library)$

# ============================================
# Float Rules - Terminal Applications
# ============================================
windowrule = float on, match:class kitty, match:title ^(top)$
windowrule = float on, match:class kitty, match:title ^(btop)$
windowrule = float on, match:class kitty, match:title ^(htop)$

# ============================================
# Float Rules - System Utilities
# ============================================
windowrule = float on, match:class kvantummanager
windowrule = float on, match:class qt5ct
windowrule = float on, match:class qt6ct
windowrule = float on, match:class nwg-look
windowrule = float on, match:class org.kde.ark
windowrule = float on, match:class org.pulseaudio.pavucontrol
windowrule = float on, match:class org.kde.polkit-kde-authentication-agent-1

# ============================================
# Float Rules - System Managers with Size
# ============================================
windowrule = float on, match:class blueman-manager
windowrule = size 600 600, match:class blueman-manager
windowrule = center on, match:class blueman-manager

windowrule = size 1100 800, match:class nwg-look

windowrule = float on, match:class nm-applet
windowrule = float on, match:class nm-connection-editor
windowrule = size 500 400, match:class nm-connection-editor
windowrule = center on, match:class nm-connection-editor

# ============================================
# Float Rules - Applications
# ============================================
windowrule = float on, match:class Signal
windowrule = float on, match:class com.github.rafostar.Clapper
windowrule = float on, match:class app.drey.Warp
windowrule = float on, match:class net.davidotek.pupgui2
windowrule = float on, match:class yad
windowrule = float on, match:class eog
windowrule = float on, match:class io.github.alainm23.planify
windowrule = float on, match:class io.gitlab.theevilskeleton.Upscaler
windowrule = float on, match:class com.github.unrud.VideoDownloader
windowrule = float on, match:class io.gitlab.adhami3310.Impression
windowrule = float on, match:class io.missioncenter.MissionCenter

# ============================================
# Common Modal Dialogs - Opacity & Float
# ============================================
windowrule = float on, match:title ^(Open)$
windowrule = opacity 0.98 override 0.80 override 1.0 override, match:title ^(Open)$

windowrule = float on, match:title ^(Authentication Required)$
windowrule = opacity 0.98 override 0.80 override 1.0 override, match:title ^(Authentication Required)$

windowrule = float on, match:title ^(Add Folder to Workspace)$

windowrule = float on, match:title ^(Choose Files)$
windowrule = opacity 0.98 override 0.80 override 1.0 override, match:title ^(Choose Files)$

windowrule = float on, match:title ^(Save As)$
windowrule = opacity 0.98 override 0.80 override 1.0 override, match:title ^(Save As)$

windowrule = float on, match:title ^(Confirm to replace files)$
windowrule = float on, match:title ^(File Operation Progress)$

windowrule = float on, match:class xdg-desktop-portal-gtk
windowrule = opacity 0.98 override 0.80 override 1.0 override, match:class xdg-desktop-portal-gtk

windowrule = float on, match:title ^(File Upload)(.*)$
windowrule = opacity 0.98 override 0.80 override 1.0 override, match:title ^(File Upload)(.*)$

windowrule = float on, match:title ^(Choose wallpaper)(.*)$
windowrule = float on, match:title ^(Library)(.*)$

windowrule = float on, match:class .*dialog.*
windowrule = opacity 0.98 override 0.80 override 1.0 override, match:class .*dialog.*

windowrule = float on, match:title ^(.*dialog.*)$
windowrule = opacity 0.98 override 0.80 override 1.0 override, match:title ^(.*dialog.*)$

# ============================================
# Thunar File Manager - Rename & Dialogs
# ============================================
windowrule = float on, match:class thunar, match:title ^(.*File|Folder.*|Rename.*)$
windowrule = center on, match:class thunar, match:title ^(.*File|Folder.*|Rename.*)$
windowrule = size 500 300, match:class thunar, match:title ^(.*File|Folder.*|Rename.*)$

# ============================================
# Network Manager Popup
# ============================================
windowrule = float on, match:class nmtui_popup
windowrule = center on, match:class nmtui_popup
windowrule = size 800 600, match:class nmtui_popup
windowrule = stay_focused on, match:class nmtui_popup

# ============================================
# PulseAudio Volume Control
# ============================================
windowrule = size 600 500, match:class org.pulseaudio.pavucontrol

# ============================================
# Speed Test Application
# ============================================
windowrule = fullscreen on, match:class speed.exe

# ============================================
# Layer Rules
# ============================================
layerrule = dim_around on, match:namespace rofi
layerrule = blur on, match:namespace rofi

layerrule = ignore_alpha 0.0, match:namespace notifications
layerrule = blur on, match:namespace logout_dialog

layerrule = dim_around on, match:namespace wofi
layerrule = ignore_alpha 0.0, match:namespace wofi
layerrule = blur on, match:namespace wofi
